<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>
<script>
function getM(str,fn){
	var fnName=('jsonp'+Math.random()).replace('.','');
	window[fnName]=function(json){
		fn(json);
		window[fnName]=null;
		document.head.removeChild(oS);
	};
	var oS=document.createElement('script');
	oS.src='http://suggestion.baidu.com/su?wd='+str+'&cb='+fnName;
	document.head.appendChild(oS);
};
function addLi(json,oUl){
	var arr=json.s;
	oUl.innerHTML='';
	for(var i=0;i<arr.length;i++){
		var oLi=document.createElement('li');
		oLi.innerHTML=arr[i];
		oUl.appendChild(oLi);
	}
};
window.onload=function(){
	var oUl=document.getElementById('ul');
	var oIpt=document.getElementById('ipt');
	oIpt.onkeyup=function(){
		getM(oIpt.value,function(json){
			addLi(json,oUl);
		})
	};
};
</script>
<script>
console.log(window.navigator)
</script>
<body>
<input id="ipt" type="text"/>
<ul id="ul"></ul>
</body>
</html>
